<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmartCalc: SmartCalc v2.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SmartCalc<span id="projectnumber">&#160;2.0</span>
   </div>
   <div id="projectbrief">Implementation of an extended version of a calculator in C++17.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SmartCalc v2.0 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2_users_2risahamm_2projects_2_smart_calc-v2_80_2_r_e_a_d_m_e"></a></p>
<h3><a class="anchor" id="autotoc_md1"></a>
Implementation of an extended version of a conventional calculator in C++17.</h3>
<p>The russian version of the task can be found in the repository.</p>
<p>In addition to basic arithmetic operations, such as plus-minus and multiply-divide, it is possible to calculate arithmetic expressions taking into account priorities, as well as some mathematical functions (sin, cos, logarithm, etc.). It is supported to use the variable <em>x</em> and plot the corresponding function.</p>
<p><img src="images/calc.gif" alt="Calculator" width="200" class="inline"/> </p>
<p><img src="images/graph.gif" alt="Graphing" width="500" class="inline"/> </p>
<ul>
<li>The program is developed in C++ language of C++17 standard.</li>
<li>The program code is located in <em>src</em> folder.</li>
<li>The code of the program is written in accordance with Google style;</li>
<li>Classes are implemented within the <code>s21</code> namespace.</li>
<li>Full coverage of expression calculation modules is provided with unit-tests using the GTest library;</li>
<li>The program implements GUI based on Qt 6.7.</li>
<li>The program is implemented using the MVC pattern.</li>
<li>Makefile with targets <em>all, install, uninstall, clean, check_style, dvi, dist, test, gcov_report</em> is provided.</li>
<li>Installation directory - <code>src/build</code>.</li>
<li><code>dvi</code> target provides with <em>doxygen</em> style documentation.</li>
<li><code>dist</code> target generates a zipped .tar file of archive for distribution.</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Implementation</h2>
<h3><a class="anchor" id="autotoc_md3"></a>
MVC pattern</h3>
<p>The Model-View-Controller (MVC) pattern is a scheme for separating application modules into three macro components: a model that contains the business logic, a view that is a UI form for interacting with the program, and a controller that modifies the model by user action.</p>
<p>The <code>view</code> contains all the code associated with the program interface, while <code>model</code>performs the calculation.</p>
<div class="image">
<img src="MVC-Process.png" alt=""/>
</div>
    <h3><a class="anchor" id="autotoc_md4"></a>
Calculation</h3>
<p>The calculation is based on <em>Dijkstra's algorithm</em> or the <em>shunting-yard algorithm</em> to translate expressions into <em>reverse Polish notation</em> to implement the calculation.</p>
<p>The Shunting-yard algorithm is stack-based. There are two text variables involved in the conversion: the input and the output string. The conversion process uses the stack to store operations not yet added to the output string. The conversion program sequentially reads each token from the input string and on each step does some actions based on which tokens have been read.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
Implementation of the algorithm</h3>
<p>As long as there are unprocessed tokens in the input string, read the next token:</p>
<p>If the token is:</p><ul>
<li>A number – put it into the output queue</li>
<li>A function or a left parenthesis – push it onto the stack</li>
<li>A function arguments separator (e.g. comma):<ul>
<li>Move operators from the stack to the output queue until the token at the top of the stack is a left parenthesis. If there is no left parenthesis in the stack, there is an error in the expression.</li>
</ul>
</li>
<li>Operator (O1):<ul>
<li>While there is a token-operator O2 at the top of the stack, that has greater precedence than O1 or they have the same precedence and O1 is left-associative:</li>
<li>Pop O2 from the stack into the output queue</li>
<li>Push O1 onto the stack</li>
</ul>
</li>
<li>A right parenthesis:<ul>
<li>While the token at the top of the stack is not a left parenthesis, pop the token-operators from the stack into the output queue.</li>
<li>Pop the left parenthesis from the stack and discard it.</li>
<li>If there is a function token at the top of the stack, then pop the function from the stack into the output queue</li>
<li>If the stack ended before the left parenthesis was read, there is an error in the expression.</li>
</ul>
</li>
</ul>
<p>If there are no more tokens left in the input string:</p><ul>
<li>As long as there are operators in the stack:<ul>
<li>If there is a parenthesis at the top of the stack - there is an error in the expression.</li>
<li>Pop the operator from the stack onto the output queue</li>
</ul>
</li>
</ul>
<p>End.</p>
<hr  />
<p><a href="#" onclick="location.href='mai'+'lto:'+'ris'+'ah'+'amm'+'@s'+'tud'+'en'+'t.2'+'1-'+'sch'+'oo'+'l.r'+'u'; return false;">risah<span class="obfuscator">.nosp@m.</span>amm@<span class="obfuscator">.nosp@m.</span>stude<span class="obfuscator">.nosp@m.</span>nt.2<span class="obfuscator">.nosp@m.</span>1-sch<span class="obfuscator">.nosp@m.</span>ool.<span class="obfuscator">.nosp@m.</span>ru</a></p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
